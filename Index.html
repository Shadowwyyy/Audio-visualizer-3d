<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Audio Reactive Visualizer</title>
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>
    <canvas id="canvas"></canvas>
    
    <button class="toggle-ui-btn" id="toggleUIBtn" title="Toggle Controls (H)">üéõÔ∏è</button>
    
    <div class="controls" id="controls">
        <div class="drag-handle" id="dragHandle" title="Drag to move">‚ãÆ‚ãÆ</div>
        <div class="resize-handle" id="resizeHandle" title="Resize"></div>
        
        <label for="audioFile" class="upload-btn">
            üìÅ Upload
        </label>
        <input type="file" id="audioFile" accept="audio/*">
        
        <div class="divider"></div>
        
        <button id="playBtn" class="control-btn" disabled>‚ñ∂Ô∏è Play</button>
        <button id="pauseBtn" class="control-btn" disabled>‚è∏Ô∏è Pause</button>
        <button id="stopBtn" class="control-btn" disabled>‚èπÔ∏è Stop</button>
        <button id="restartBtn" class="control-btn" disabled>üîÑ Restart</button>
        
        <div class="divider"></div>

        <div class="seek-container">
            <div class="seek-bar" id="seekBar">
                <div class="seek-progress" id="seekProgress"></div>
                <div class="seek-handle" id="seekHandle"></div>
            </div>
            <span class="time-display" id="timeDisplay">0:00 / 0:00</span>
        </div>
        
        <div class="divider"></div>

        <div class="shape-dropdown">
            <select class="shape-select" id="shapeSelect">
                <option value="sphere">Sphere</option>
                <option value="torus">Torus</option>
                <option value="torusKnot">Torus Knot</option>
                <option value="cube">Cube</option>
                <option value="icosahedron">Icosahedron</option>
                <option value="octahedron">Octahedron</option>
                <option value="dodecahedron">Dodecahedron</option>
                <option value="tetrahedron">Tetrahedron</option>
                <option value="cylinder">Cylinder</option>
                <option value="cone">Cone</option>
                <option value="ring">Ring</option>
                <option value="plane">Plane</option>
                <option value="circle">Circle</option>
                <option value="capsule">Capsule</option>
                <option value="pyramid">Pyramid</option>
                <option value="star">Star</option>
                <option value="heart">Heart</option>
                <option value="diamond">Diamond</option>
                <option value="hexagon">Hexagon</option>
                <option value="spiral">Spiral</option>
            </select>
        </div>
        
        <div class="divider"></div>
        
        <div class="picker-container">
            <button id="meshColorBtn" class="picker-btn">
                <div class="color-indicator" id="meshColorIndicator"></div>
                <span>Mesh</span>
            </button>
            <div class="picker-palette" id="meshColorPalette">
                <div class="hex-input-container">
                    <input type="text" class="hex-input" id="meshHexInput" placeholder="#00ff88">
                    <button class="hex-apply-btn" id="meshHexApply">Apply</button>
                </div>
                <div class="color-grid" id="meshColorGrid"></div>
            </div>
        </div>

        <div class="picker-container">
            <button id="bgColorBtn" class="picker-btn">
                <div class="color-indicator" id="bgColorIndicator" style="background: linear-gradient(135deg, #667eea, #764ba2);"></div>
                <span>BG</span>
            </button>
            <div class="picker-palette" id="bgColorPalette">
                <div class="hex-input-container">
                    <input type="text" class="hex-input" id="bgHexInput" placeholder="#667eea">
                    <button class="hex-apply-btn" id="bgHexApply">Apply</button>
                </div>
                <div class="color-grid" id="bgColorGrid"></div>
            </div>
        </div>
        
        <div class="divider"></div>
        
        <span class="track-info" id="trackInfo">No track loaded</span>
        
        <audio id="audioPlayer"></audio>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="js/visualizer.js"></script>
    <script src="js/audio.js"></script>
    <script src="js/ui.js"></script>
</body>
</html>